<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>{{ title }}</title>
        <link rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css"
            integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1"
            crossorigin="anonymous">

        <script>
            function closeOnBackDropClick({
              currentTarget,
              target
            }) {
              const dialogElement = currentTarget
              const isClickedOnBackDrop = target === dialogElement
              if (isClickedOnBackDrop) {
                dialogElement.close()
              }
            }
        </script>

        {% block head %}{% endblock %}
    </head>
    <nav class="navbar navbar-dark bg-dark p-3">
        <a class="navbar-brand" href="/">YorikMes</a>
        {% if current_user.is_authenticated %}
            <div class="">
                <button class="btn btn-success opener p-2" type="button" aria-controls="modal-example" onclick="window['modal-example'].showModal()" style="margin-right: 10px;">
                    <img src="{{ url_for('static', filename='img/notification-bell.png') }}" width="20" height="20" alt="">
                </button>
                <img src="{{ url_for('static', filename='img/user-profile-icon.png') }}" width="40" height="40" alt="">
                <span class="text-white p-3">{{ current_user.surname }} {{ current_user.name }}</span>
                <a class="btn btn-outline-danger" href="/logout">Log out</a>
            </div>
        {% else %}
            <div class="">
                <a class="btn btn-outline-success" href="/login">Log in</a>
                <a class="btn btn-primary" href="/register">Register</a>
            </div>
        {% endif %}
    </nav>
    <body class="bg-secondary">
        <main role="main" class="p-2 text-white">
            <dialog class="dialog bg-secondary text-white border border-dark border-5 rounded-3" id="modal-example" onclick="closeOnBackDropClick(event)" aria-labelledby="dialog-name">
                <form class="dialog__wrapper" method="dialog">
                  <h2 class="dialog__title" id="dialog-name">Notifications</h2>

                  <button class="btn btn-success">Close</button>
                </form>
            </dialog>
            <br>
            <div>{% block content %}{% endblock %}</div>
        </main>
    </body>
</html>
